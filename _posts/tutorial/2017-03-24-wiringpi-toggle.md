---
layout: post
title:  RaspberryPi GPIO wiringPi
tags:
- RaspberryPi
- Tags
- Blog
- Post
- wiringPi
- GPIO
- Toggle LED
---

# **রাস্পবেরি-পাই লেড টোগলিং**

---

এ পর্বে আমরা দেখব কিভাবে বাটন থেকে ইনপুট নিয়ে একটা লেড বাল্বকে টোগল করা যায়। গত পর্বে আমরা দেখেছিলাম কিভাবে বাটন থেকে ইনপুট নেওয়া হয়। গত পর্ব টি দেখতে [পোস্টটি](https://www.facebook.com/MekTekBD/posts/1373051569438785) দেখতে পার। 

এখন তোমরা মোটামুটি এটুকু অবশ্যই জান কিভাবে একটা প্রোগ্রাম লিখতে হয় এবং রান করতে হয়। সুতরাং আমি এই কাজটি নেক্সট লেসনগুলোতে স্কিপ করব। তোমাদের কারো পুনরায় দেখার দরকার হলে বিগত টিউটেরিয়াল গুলো দেখতে পার।

লেড বাল্ব টোগল মানে হলো, তুমি বাটন প্রেস করলেই লেড বাল্বটির অবস্থা চেঞ্জ হবে। অর্থাৎ বাল্বটি নিভে থাকলে জ্বলবে এবং বাল্বটি নিভে থাকলে বাল্বটি জ্বলতে থাকবে।

**Analysis-**  
এখানে প্রথম যে ঘটনাটা ঘটে সেটা হলো বাটনটি প্রেস করা হয়েছে কিনা সেটা চেক করব। যদি বাটন প্রেস করা হয় তাহলে চেক করব বাল্বটি জ্বলে আছে না নিভে আছে।

**Action-**  
বাল্বটি জ্বলে থাকলে, সেটা বন্ধ করে দিব। আর বাল্বটি নিভে থাকলে সেটা জ্বালিয়ে দিব।

![](/assets/Selection_010.png)

এখন নিচের প্রোগ্রামটি লিখ, চিত্র অনুযায়ী সার্কিট কানেকশন দাও, প্রোগ্রামটি কম্পাইল কর এবং রান করাও-

```
1.#include<wiringPi.h>
2.int main (void)
3.{
4.wiringPiSetup ();
5.pinMode (0, OUTPUT);
6.pinMode (1, INPUT);
7.digitalWrite (0, LOW);
8.
9.int prevButton = LOW, LED = 0;
10.
11.for(;;)
12.{
13.if(prevButton == LOW && digitalRead(1) == HIGH)
14.{
15.prevButton = HIGH;
16.
17.if(LED)
18.{
19.LED = 0;
20.digitalWrite(0, LOW);
21.}
22.else
23.{
24.LED = 1;
25.digitalWrite(0, HIGH);
26.}
27.}
28.else if(prevButton == HIGH && digitalRead(1) == LOW)
29.{
30.prevButton = LOW;
31.}
32.
33.// Add a delay here to debounce the button
34.
35.}
36.return 0;
37.}
```

কোড বুঝতে সমস্যা হলে আমাদের জানাতে পার। তবে একটা সমস্যা অবশ্য আছে। আর সেটা হল বাটন বাউন্সিং।

এখন কথা হল, এই বাটন বাউন্সিংটা আবার কি? বাটন বাউন্সিংটা হলো যখন একটা পুশ বাটন প্রেস করা হয় তখন একটা বাউন্স দেয়, যার কারণে অনেক গুলা ফলিং এবং রাইজিং এজ তৈরি হয় যদিও সেটা খুব অল্পসময় ব্যাপী। যার কারণে একবার বাটন প্রেস করলেও রাস্পবেরিপাই সেটা কে কয়েকবার বাটন প্রেস করা হিসেবে ধরে নেয়। এটা খুব সহজে ওভারকাম করা যায়। আর সেটা হল, ১ম একশান এর পরেই একটা ডিলে দেওয়া। এটা বাটন অনুযায়ী বিভিন্ন হতে পারে। মোটামুটি ৫০-১০০ মিলি সেকেন্ড এর একটা ডিলে নিলেই হবে। তোমরা কোড এর // Add a delay here to debounce the button এই সেকশনটিতে একটা delay\(\) ফাংশন ব্যাবহার করতে পার।

